<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment History | Destinova - Luxury Travel</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700;800;900&family=Poppins:wght@300;400;500;600;700;800&family=IBM+Plex+Mono:wght@600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Chart.js for spending visualization -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    
    <link rel="stylesheet" href="../css/payment-history.css">
</head>
<body>

    <!-- Elegant Background Pattern -->
    <div class="elegant-background">
        <div class="pattern-overlay"></div>
    </div>

    <!-- Premium Header -->
    <header class="premium-header">
        <div class="container">
            <nav class="header-nav">
                <a href="/" class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-plane-departure"></i>
                    </div>
                    <div class="logo-text">
                        <span class="logo-name">Destinova</span>
                        <span class="logo-tagline">LUXURY TRAVEL</span>
                    </div>
                </a>
                
                <div class="nav-links">
                    <a href="/" class="nav-link">
                        <i class="fas fa-home"></i>
                        <span>Home</span>
                    </a>
                    <a href="/my-bookings" class="nav-link">
                        <i class="fas fa-ticket"></i>
                        <span>My Bookings</span>
                    </a>
                    <a href="/payment-history" class="nav-link active">
                        <i class="fas fa-receipt"></i>
                        <span>Payments</span>
                    </a>
                    <a href="/support" class="nav-link">
                        <i class="fas fa-headset"></i>
                        <span>Support</span>
                    </a>
                </div>
                
                <div class="header-actions">
                    <button class="btn-icon" title="Notifications">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge">2</span>
                    </button>
                    <div class="user-menu">
                        <button class="user-avatar">
                            <img src="https://i.pravatar.cc/80?img=33" alt="User">
                            <span class="user-status"></span>
                        </button>
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="payment-main">
        <div class="container">
            
            <!-- Page Header -->
            <div class="page-header">
                <div class="header-left">
                    <h1 class="page-title">Payment History</h1>
                    <p class="page-subtitle">Track and manage all your transactions</p>
                </div>
                <div class="header-actions">
                    <button class="btn-secondary" id="export-pdf">
                        <i class="fas fa-file-pdf"></i>
                        <span>Export to PDF</span>
                    </button>
                    <button class="btn-secondary" id="export-excel">
                        <i class="fas fa-file-excel"></i>
                        <span>Download Statements</span>
                    </button>
                </div>
            </div>

            <!-- Summary Cards with Elegant Design -->
            <div class="summary-grid">
                <div class="summary-card card-luxury">
                    <div class="card-header">
                        <div class="card-icon total">
                            <i class="fas fa-coins"></i>
                        </div>
                        <span class="card-period">This Year</span>
                    </div>
                    <div class="card-content">
                        <div class="card-amount" id="total-spent">₹0</div>
                        <div class="card-label">Total Spent</div>
                    </div>
                    <div class="card-footer">
                        <span class="trend positive">
                            <i class="fas fa-arrow-up"></i>
                            12% from last year
                        </span>
                    </div>
                </div>

                <div class="summary-card card-luxury">
                    <div class="card-header">
                        <div class="card-icon transactions">
                            <i class="fas fa-receipt"></i>
                        </div>
                        <span class="card-period">All Time</span>
                    </div>
                    <div class="card-content">
                        <div class="card-amount" id="total-transactions">0</div>
                        <div class="card-label">Total Transactions</div>
                    </div>
                    <div class="card-footer">
                        <span class="info-text">
                            <i class="fas fa-check-circle"></i>
                            All verified
                        </span>
                    </div>
                </div>

                <div class="summary-card card-luxury">
                    <div class="card-header">
                        <div class="card-icon average">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <span class="card-period">Average</span>
                    </div>
                    <div class="card-content">
                        <div class="card-amount" id="avg-transaction">₹0</div>
                        <div class="card-label">Per Transaction</div>
                    </div>
                    <div class="card-footer">
                        <span class="info-text">
                            <i class="fas fa-info-circle"></i>
                            Based on all bookings
                        </span>
                    </div>
                </div>

                <div class="summary-card card-luxury">
                    <div class="card-header">
                        <div class="card-icon pending">
                            <i class="fas fa-clock"></i>
                        </div>
                        <span class="card-period">Pending</span>
                    </div>
                    <div class="card-content">
                        <div class="card-amount" id="pending-count">0</div>
                        <div class="card-label">Pending Payments</div>
                    </div>
                    <div class="card-footer">
                        <span class="info-text">
                            <i class="fas fa-hourglass-half"></i>
                            Awaiting clearance
                        </span>
                    </div>
                </div>
            </div>

            <!-- Spending Chart -->
            <div class="chart-section card-luxury">
                <div class="chart-header">
                    <h3 class="chart-title">
                        <i class="fas fa-chart-area"></i>
                        Spending Overview
                    </h3>
                    <div class="chart-filters">
                        <button class="chart-filter-btn active" data-period="6m">6 Months</button>
                        <button class="chart-filter-btn" data-period="1y">1 Year</button>
                        <button class="chart-filter-btn" data-period="all">All Time</button>
                    </div>
                </div>
                <canvas id="spending-chart"></canvas>
            </div>

            <!-- Filters Section -->
            <div class="filters-section card-luxury">
                <div class="filter-group">
                    <i class="fas fa-search filter-icon"></i>
                    <input type="text" id="search-transactions" class="filter-input" 
                           placeholder="Search by transaction ID, booking ref...">
                </div>
                
                <div class="filter-group">
                    <i class="fas fa-filter filter-icon"></i>
                    <select id="status-filter" class="filter-select">
                        <option value="all">All Statuses</option>
                        <option value="success">Success</option>
                        <option value="pending">Pending</option>
                        <option value="failed">Failed</option>
                        <option value="refunded">Refunded</option>
                    </select>
                </div>

                <div class="filter-group">
                    <i class="fas fa-credit-card filter-icon"></i>
                    <select id="payment-method-filter" class="filter-select">
                        <option value="all">All Methods</option>
                        <option value="card">Card</option>
                        <option value="upi">UPI</option>
                        <option value="netbanking">Net Banking</option>
                        <option value="wallet">Wallet</option>
                    </select>
                </div>

                <div class="filter-group">
                    <i class="fas fa-sort filter-icon"></i>
                    <select id="sort-by" class="filter-select">
                        <option value="date-desc">Newest First</option>
                        <option value="date-asc">Oldest First</option>
                        <option value="amount-desc">Highest Amount</option>
                        <option value="amount-asc">Lowest Amount</option>
                    </select>
                </div>
            </div>

            <!-- Transactions List -->
            <div id="transactions-list" class="transactions-list">
                <!-- Transactions will be injected here by JavaScript -->
            </div>

            <!-- Pagination -->
            <div id="pagination-container" class="pagination-container">
                <!-- Pagination will be injected here -->
            </div>

            <!-- Empty State -->
            <div id="empty-state" class="empty-state hidden">
                <div class="empty-icon">
                    <i class="fas fa-receipt"></i>
                </div>
                <h3>No transactions found</h3>
                <p>You haven't made any payments yet or no results match your search criteria.</p>
                <a href="/flights" class="btn-primary">
                    <i class="fas fa-search"></i>
                    <span>Book Your First Flight</span>
                </a>
            </div>

        </div>
    </main>

    <!-- Footer -->
    <footer class="premium-footer">
        <div class="footer-gradient-overlay"></div>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo-section">
                    <div class="footer-logo">
                        <div class="footer-logo-icon">
                            <i class="fas fa-plane-departure"></i>
                        </div>
                        <div class="footer-logo-text">
                            <span class="footer-logo-name">Destinova</span>
                            <span class="footer-logo-tagline">Luxury Travel Experiences</span>
                        </div>
                    </div>
                    <p class="footer-description">
                        Your trusted partner for premium flight bookings.
                    </p>
                </div>
                <div class="footer-links-grid">
                    <div class="footer-column">
                        <h4>Quick Links</h4>
                        <a href="/about">About Us</a>
                        <a href="/contact">Contact</a>
                    </div>
                    <div class="footer-column">
                        <h4>Support</h4>
                        <a href="/help">Help Center</a>
                        <a href="/faq">FAQ</a>
                    </div>
                    <div class="footer-column">
                        <h4>Contact</h4>
                        <p><i class="fas fa-phone"></i> 1800-123-456</p>
                        <p><i class="fas fa-envelope"></i> support@destinova.com</p>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Destinova. All rights reserved.</p>
                <div class="payment-methods">
                    <i class="fab fa-cc-visa"></i>
                    <i class="fab fa-cc-mastercard"></i>
                    <i class="fab fa-cc-amex"></i>
                    <i class="fab fa-cc-paypal"></i>
                </div>
            </div>
        </div>
    </footer>

    <script src="../js/payment-history.js"></script>
</body>
</html>
