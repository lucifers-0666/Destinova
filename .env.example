# ============================================
# DESTINOVA BACKEND - ENVIRONMENT VARIABLES
# ============================================
# Copy this file to .env and fill in your values

# --------------------------------------------
# SERVER CONFIGURATION
# --------------------------------------------
PORT=4000
NODE_ENV=development
API_VERSION=v1

# --------------------------------------------
# MONGODB DATABASE (Required)
# --------------------------------------------
# 
# OPTION 1: MongoDB Atlas (Recommended - FREE 512MB)
# Follow MONGODB_ATLAS_SETUP.md to create FREE account
# Your connection string will look like:
# mongodb+srv://username:password@cluster0.xxxxx.mongodb.net/destinova?retryWrites=true&w=majority
#
# OPTION 2: Local MongoDB
# mongodb://localhost:27017/destinova
#
DATABASE_URL=mongodb+srv://your_username:your_password@cluster0.mongodb.net/destinova?retryWrites=true&w=majority

# Database Options
DB_MAX_POOL_SIZE=10
DB_RETRY_ATTEMPTS=3
DB_RETRY_DELAY=5000

# --------------------------------------------
# JWT AUTHENTICATION (Required)
# --------------------------------------------
# Generate a strong random string for production
# You can use: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-make-it-very-long-and-random
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=your-refresh-token-secret-key-also-make-this-very-long
JWT_REFRESH_EXPIRES_IN=30d

# --------------------------------------------
# BCRYPT PASSWORD HASHING
# --------------------------------------------
BCRYPT_SALT_ROUNDS=12

# --------------------------------------------
# STRIPE PAYMENT GATEWAY (Test Mode)
# --------------------------------------------
# Get your test keys from: https://dashboard.stripe.com/test/apikeys
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here
STRIPE_CURRENCY=inr

# --------------------------------------------
# NODEMAILER SMTP SETTINGS (Gmail)
# --------------------------------------------
# For Gmail, enable "Less secure apps" or use App Passwords
# https://myaccount.google.com/apppasswords
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password-here
SMTP_FROM_NAME=Destinova
SMTP_FROM_EMAIL=noreply@destinova.com

# --------------------------------------------
# REDIS CACHE (Optional)
# --------------------------------------------
# If you don't have Redis, it's okay - not required for basic functionality
# To install Redis on Windows: https://github.com/tporadowski/redis/releases
REDIS_URL=redis://localhost:6379
REDIS_ENABLED=false

# --------------------------------------------
# RATE LIMITING
# --------------------------------------------
# Maximum requests per window per IP
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100

# --------------------------------------------
# CORS CONFIGURATION
# --------------------------------------------
# Comma-separated list of allowed frontend domains
CORS_ORIGIN=http://localhost:3000,http://localhost:5173,http://127.0.0.1:5500
CORS_CREDENTIALS=true

# --------------------------------------------
# FILE UPLOAD
# --------------------------------------------
MAX_FILE_SIZE=5242880
UPLOAD_PATH=./uploads

# --------------------------------------------
# LOGGING
# --------------------------------------------
LOG_LEVEL=debug
LOG_FORMAT=dev

# --------------------------------------------
# SESSION (if using sessions)
# --------------------------------------------
SESSION_SECRET=your-session-secret-key-here

# --------------------------------------------
# FRONTEND URL (for emails/links)
# --------------------------------------------
FRONTEND_URL=http://localhost:3000
BACKEND_URL=http://localhost:4000

# ============================================
# SETUP INSTRUCTIONS
# ============================================
#
# 1. Copy this file to .env: cp .env.example .env
# 2. Follow MONGODB_ATLAS_SETUP.md to get your DATABASE_URL
# 3. Update JWT_SECRET with a strong random string
# 4. (Optional) Set up Stripe for payments
# 5. (Optional) Set up Gmail for email notifications
# 6. Run: npm install
# 7. Run: npm run seed:all
# 8. Run: npm run dev
#
# ============================================
